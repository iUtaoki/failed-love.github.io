
<!DOCTYPE html >
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2023新年快乐！</title>
    <link rel="stylesheet" href="css/denglong.css">
    <link rel="shortcut icon" href="icon/year.svg">
    <link rel="icon" href="icon/year.svg" type="image/x-icon">
    <script src="js/jquery3.6.js"></script>
    <link rel="stylesheet" href="bootstrap5/bootstrap5.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    #particles-js {
    display: block;
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 99;
  background-color: rgb(250, 204, 96);
  
  background-repeat: no-repeat;
  background-size: cover;
  background-position: 50% 50%;
}
.loading {
            width: 100%;
            height: 100%;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 100;
            background: rgb(234, 121, 23);
        }
        
        .particles-js-canvas-el{
            z-index: 99;
        }.content{width: auto;height: auto;position: relative;top:15vh;z-index: 200;
            text-align: center;margin: 0 auto;
            overflow: hidden;
        }

        .name,.zf1,.zf0{
            opacity: 0;
            font-family:fantasy;
            font-size:6vw;color: rgb(249, 72, 23);
        }.zf2{
            opacity: 0;
            font-family:fantasy;
            font-size:8vw;color: rgb(245, 63, 12);
        }
        
        .ct{
            transition: 1.3s;
        }.container2{
            opacity: 0; transition: 1s;
            font-family:fantasy;
            font-size:4ch;color: rgb(255, 0, 0);
        }
        #rabbit{
           cursor: pointer;
            transition: 1.4s;
        }.show{
            opacity:1;
        }
        #cas{z-index: 100;
position: absolute;width: 100%;height: 100%;margin: 0 auto;display: none;
        }
        canvas {
  display: block;position: absolute;
  
}
      @media screen and (max-width: 992px) {
      
          .ct{
          font-size:30px !important;
          }
      }
      
      @media screen and (max-width: 600px) {
      
          .ct{
          font-size:20px !important;
          }
      }
  </style>
  <script>
    document.onreadystatechange = function () { //加载状态改变的事件
        if (document.readyState == "complete") { //当前文档加载完成
            $(".loading").fadeOut(1200); // fadeOut淡出，隐藏
        }
    }
</script>

</head>
<body >
    <div class="loading"></div><canvas id='cas' style="background-color:rgb(255,255,255,0)" >浏览器不支持canvas</canvas>
    <div id="particles-js" style="z-index:99"></div>
    <script src="js/particles.min.js"></script>
    <script src="js/snowparticle.js"></script>
<!-- <div class="city"><img src="city.png" alt=""/></div> -->
<!-- <img src="moon.png" alt="" id="moon" style="visibility: hidden;"/> -->
<div class="container" style="z-index: 10;">
    <div class="content">
        <div class="container2" style="text-align:center;width: auto;margin:0 auto;"></div><br>
        <div  class="ct zf0">曹光婕</div><div class="ct name">愿你在新的一年里</div>
        <div class="ct zf1">健健康康，平安喜乐，远离烦恼</div>
        <div class="ct zf2">&nbsp&nbsp2023年新年快乐！</div>
    </div><canvas id="rabbit" width="150" height="240px" style="position:relative;top:14vh;opacity:0;margin:0 auto;z-index: 1000;"></canvas>
    
    <script>
        $(function(){
            setTimeout(()=>{
                $('.container2').addClass('show') 
            },1200)
            setTimeout(()=>{
                $('.zf0').addClass('show') 
            },2000)
            
            setTimeout(()=>{
               
            $('.name').addClass('show');
        },3800)

        setTimeout(()=>{
            $('.zf1').addClass('show');
        },5800)
        setTimeout(()=>{
            $('.zf2').addClass('show');$('#rabbit').css('opacity','1');
        },7600);

        // setTimeout(()=>{
        //     $('#rabbit').slideDown(1000);
             
        // },9200)
       
    });  

    $('#rabbit').on('click',function(){
     
$('#cas').toggle(200);
    })
$(function(){
    var count = -2;
    let mycontent = document.getElementsByClassName('container2')[0];
     let timer = setInterval(()=>{     
        let  date = new Date();
 const nhour = 23;
    const nminute = 59;
    const nsecond = 59;
    let today= date.getDate();
    const newday = 31;
    let realday = newday - today
    let hour = date.getHours();
   let realhour = nhour - hour;
   
    let minute = date.getMinutes();
   let realmin = nminute - minute
   
    let second = date.getSeconds();
    let realsec = nsecond - second
    
   if(date.getFullYear() == 2023 ){
    
realday = realhour = realmin = realsec =0;
mycontent.innerHTML = '<div class="show"style=""><strong>&nbsp&nbsp你好2023!</strong></div>';
count++;

   if(count ==-1){
$(".loading").fadeIn(100);
$(".loading").fadeOut(500);
$("#cas").css('display','block');
clearTimeout(timer);
}
    // && date.getDate()==30 && date.getHours()>=21 && date.getMinutes()>=30
}
else {
  //console.log(date.getMonth());
  
let countdown = realday+'天'+realhour+'小时'+realmin+'分'+realsec+'秒';
 
 mycontent.innerHTML="<h1 class='show'>"+"距离2023年还有:"+"<br>"+countdown+"</h1> ";    
}
},1000) 
})

    </script>
    
<script>
    let rab = document.querySelector("#rabbit");
    let ctx1 = rab.getContext("2d");
    var img = new Image();
    img.src = "img/rabbit.png";
    
    img.onload = function(){
    
let imgWidth = img.width;
        let imgHeight = img.height;
        var width = imgWidth * 0.6;
        var height = imgHeight * 0.6;
    ctx1.clearRect(0, 0, rab.width, rab.height);
    ctx1.drawImage(img, 0, 0, width, height);
    }
</script>

</div>
<div style="display:none">
  <div class="shape">2023新年快乐!</div>
</div>

<!-- <audio src="boom.mp3" preload="auto"></audio>
<audio src="boom.mp3" preload="auto"></audio>
<audio src="boom.mp3" preload="auto"></audio>
<audio src="boom.mp3" preload="auto"></audio>
<audio src="boom.mp3" preload="auto"></audio>
<audio src="boom.mp3" preload="auto"></audio>
<audio src="shotfire.mp3" preload="auto"></audio>
<audio src="shotfire.mp3" preload="auto"></audio>
<audio src="shotfire.mp3" preload="auto"></audio> -->
<script>
  var canvas = document.getElementById("cas");
  var ocas = document.createElement("canvas");
  var octx = ocas.getContext("2d");
  var ctx = canvas.getContext("2d");
  ocas.width = canvas.width = window.innerWidth;
  ocas.height = canvas.height = window.innerHeight;
  var bigbooms = [];
  
  window.onload = function() {
   
    initAnimate()
  }

  function initAnimate() {
   // drawBg();

    lastTime = new Date();
    animate();
  }

  var lastTime;
  function animate() {
    ctx.save();
    ctx.globalCompositeOperation = 'destination-out';
    ctx.globalAlpha = 0.1;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.restore();

    var newTime = new Date();
    if (newTime - lastTime > 550+ (window.innerHeight - 767) / 2) {
      var random = Math.random() * 100 > 2 ? true : false;
      var x = getRandom(canvas.width / 5, canvas.width * 4 / 5);
      var y = getRandom(50, 200);
      if (random) {
        var bigboom = new Boom(getRandom(canvas.width / 3, canvas.width * 2 / 3), 2, "#FFF", {x: x, y: y});
        bigbooms.push(bigboom)
      }
      else {
        var bigboom = new Boom(getRandom(canvas.width / 3, canvas.width * 2 / 3), 2, "#FFF", {
          x: canvas.width / 2,
          y: 200
        }, document.querySelectorAll(".shape")[parseInt(getRandom(0, document.querySelectorAll(".shape").length))]);
        bigbooms.push(bigboom)
      }
      lastTime = newTime;
    }
    // stars.foreach(function() {
    //   this.paint();}
     
    //)
    //drawMoon();
    bigbooms.foreach(function(index) {
      var that = this;
      if (!this.dead) {
        this._move();
        this._drawLight();
      }
      else {
        this.booms.foreach(function(index) {
          if (!this.dead) {
            this.moveTo(index);
          }
          else if (index === that.booms.length - 1) {
            bigbooms.splice(bigbooms.indexOf(that), 1);
          }
        })
      }
    });

    raf(animate);
  }

  Array.prototype.foreach = function(callback) {
    for (var i = 0; i < this.length; i++) {
      if (this[i] !== null) callback.apply(this[i], [i])
    }
  }

  var raf = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) {
        window.setTimeout(callback, 1000 / 60);
      };

  // canvas.onclick = function() {
  //   var x = event.clientX;
  //   var y = event.clientY;
  //   var bigboom = new Boom(getRandom(canvas.width / 3, canvas.width * 2 / 3), 2, "#FFF", {x: x, y: y});
  //   bigbooms.push(bigboom)
  // }

  var Boom = function(x, r, c, boomArea, shape) {
    this.booms = [];
    this.x = x;
    this.y = (canvas.height + r);
    this.r = r;
    this.c = c;
    this.shape = shape || false;
    this.boomArea = boomArea;
    this.theta = 0;
    this.dead = false;
    this.ba = parseInt(getRandom(80, 200));

   }
  Boom.prototype = {
    _paint: function() {
      ctx.save();
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);
      ctx.fillStyle = this.c;
      ctx.fill();
      ctx.restore();
    },
    _move: function() {
      var dx = this.boomArea.x - this.x, dy = this.boomArea.y - this.y;
      this.x = this.x + dx * 0.01;
      this.y = this.y + dy * 0.01;

      if (Math.abs(dx) <= this.ba && Math.abs(dy) <= this.ba) {
        if (this.shape) {
          this._shapBoom();
        }
        else this._boom();
        this.dead = true;
      }
      else {
        this._paint();
      }
    },
    _drawLight: function() {
      ctx.save();
      ctx.fillStyle = "rgba(255,228,150,0.3)";
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.r + 3 * Math.random() + 1, 0, 2 * Math.PI);
      ctx.fill();
      ctx.restore();
    },
    _boom: function() {
      var fragNum = getRandom(100, 300);
      var style = getRandom(0, 10) >= 5 ? 1 : 2;
      var color;
      if (style === 1) {
        color = {
          a: parseInt(getRandom(128, 255)),
          b: parseInt(getRandom(128, 255)),
          c: parseInt(getRandom(128, 255))
        }
      }

      var fanwei = fragNum;
      // var audio = document.getElementsByTagName("audio");
      // for (var i = 0; i < audio.length; i++) {
      //   if (audio[i].src.indexOf("boom") >= 0 && (audio[i].paused || audio[i].ended)) {
      //     audio[i].play();
      //     break;
      //   }
      // }
      for (var i = 0; i < fragNum; i++) {
        if (style === 2) {
          color = {
            a: parseInt(getRandom(128, 255)),
            b: parseInt(getRandom(128, 255)),
            c: parseInt(getRandom(128, 255))
          }
        }
        var a = getRandom(-Math.PI, Math.PI);
        var x = getRandom(0, fanwei) * Math.cos(a) + this.x;
        var y = getRandom(0, fanwei) * Math.sin(a) + this.y;
        var radius = getRandom(0, 2)
        var frag = new Frag(this.x, this.y, radius, color, x, y);
        this.booms.push(frag);
      }
    },
    _shapBoom: function() {
      var that = this;
      putValue(ocas, octx, this.shape, 5, function(dots) {
        var dx = canvas.width / 2 - that.x;
        var dy = canvas.height / 2 - that.y;
        for (var i = 0; i < dots.length; i++) {
          color = {a: dots[i].a, b: dots[i].b, c: dots[i].c}
          var x = dots[i].x;
          var y = dots[i].y;
          var radius = 1;
          var frag = new Frag(that.x, that.y, radius, color, x - dx, y - dy);
          that.booms.push(frag);
        }
      })
    }
  }

  function putValue(canvas, context, ele, dr, callback) {
    context.clearRect(0, 0, canvas.width, canvas.height);
    var img = new Image();

  }

  function getRandom(a, b) {
    return Math.random() * (b - a) + a;
  }


  var focallength = 250;
  var Frag = function(centerX, centerY, radius, color, tx, ty) {
    this.tx = tx;
    this.ty = ty;
    this.x = centerX;
    this.y = centerY;
    this.dead = false;
    this.centerX = centerX;
    this.centerY = centerY;
    this.radius = radius;
    this.color = color;
  }

  Frag.prototype = {
    paint: function() {
     
      ctx.fillStyle = "rgba(" + this.color.a + "," + this.color.b + "," + this.color.c + ",1)";
      ctx.fillRect(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2)
    },
    moveTo: function(index) {
      this.ty = this.ty + 0.3;
      var dx = this.tx - this.x, dy = this.ty - this.y;
      this.x = Math.abs(dx) < 0.1 ? this.tx : (this.x + dx * 0.04);
      this.y = Math.abs(dy) < 0.1 ? this.ty : (this.y + dy * 0.04);
      if (dx === 0 && Math.abs(dy) <= 80) {
        this.dead = true;
      }
      this.paint();
    }
  }
</script>
<div class="xnkl">
  <div class="deng-box2">
      <div class="deng">
          <div class="xian"></div>
          <div class="deng-a">
              <div class="deng-b">
                  <div class="deng-t">年</div>
              </div>
          </div>
          <div class="shui shui-a">
              <div class="shui-c"></div>
              <div class="shui-b"></div>
          </div>
      </div>
  </div>
  <div class="deng-box3">
      <div class="deng">
          <div class="xian"></div>
          <div class="deng-a">
              <div class="deng-b">
                  <div class="deng-t">新</div>
              </div>
          </div>
          <div class="shui shui-a">
              <div class="shui-c"></div>
              <div class="shui-b"></div>
          </div>
      </div>
  </div>
  <div class="deng-box1">
      <div class="deng">
          <div class="xian"></div>
          <div class="deng-a">
              <div class="deng-b">
                  <div class="deng-t">乐</div>
              </div>
          </div>
          <div class="shui shui-a">
              <div class="shui-c"></div>
              <div class="shui-b"></div>
          </div>
      </div>
  </div>
  <div class="deng-box">
      <div class="deng">
          <div class="xian"></div>
          <div class="deng-a">
              <div class="deng-b">
                  <div class="deng-t">快</div>
              </div>
          </div>
          <div class="shui shui-a">
              <div class="shui-c"></div>
              <div class="shui-b"></div>
          </div>
      </div>
  </div>
  </div>
</body>
<!--哈哈，你真的超可爱的(至少在我眼里)，你的一举一动，一眼一行都很吸引我，第一次见到你就感觉你是独一无二的，虽然在外人看来你的外表有些高冷，但是我感觉我能懂你的内心
我看人很准的，我能看出你只是外冷内热的慢热女孩，因为我也是这样的。你真的既可爱又善良，
不知以后要便宜哪个臭小子，交给别人我是真的不放心。大概率你是看不到这些内容的,就这样吧，希望能一直做你的朋友，要照顾好自己，因为我会在乎。
寒假的每一天都在想你，每天起床第一眼看手机都在想有没有你的消息，我简直是疯了，

-->
</html>
